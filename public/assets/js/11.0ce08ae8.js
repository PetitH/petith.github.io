(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{283:function(t,e,n){"use strict";n.r(e);var a=n(14),s=Object(a.a)({},(function(){var t=this,e=t._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("p",[t._v("uni.getLocationç”¨äºè·å–å½“å‰ç”¨æˆ·çš„åœ°ç†ä½ç½®ã€é€Ÿåº¦ã€‚å½“ç”¨æˆ·ç¦»å¼€å°ç¨‹åºåï¼Œæ­¤æ¥å£æ— æ³•è°ƒç”¨ã€‚å¼€å¯é«˜ç²¾åº¦å®šä½ï¼Œæ¥å£è€—æ—¶ä¼šå¢åŠ ï¼Œå¯æŒ‡å®š highAccuracyExpireTime ä½œä¸ºè¶…æ—¶æ—¶é—´ã€‚åœ°å›¾ç›¸å…³ä½¿ç”¨çš„åæ ‡æ ¼å¼åº”ä¸º gcj02ã€‚ä¸‹é¢ç®€å•ä»‹ç»æ€æ ·åœ¨uni-appé¡¹ç›®ä¸­ä½¿ç”¨uni.getLocation;")]),t._v(" "),e("h1",{attrs:{id:"é…ç½®manifest-json"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#é…ç½®manifest-json"}},[t._v("#")]),t._v(" é…ç½®manifest.json")]),t._v(" "),e("p",[t._v('å› ä¸ºgetLocationçš„ä½¿ç”¨æœ‰ç‚¹ç‰¹æ®Šï¼Œå¿…é¡»è¦åœ¨è°ƒç”¨å‰éœ€è¦ç”¨æˆ·æˆæƒï¼ˆscope.userLocationï¼‰ï¼Œå› æ­¤æˆ‘ä»¬åœ¨manifest.jsoné‡Œé¢æ‰¾åˆ°"mp-weixin"ä¸”åœ¨"mp-weixin":{}è¿›è¡Œé…ç½®ï¼Œé…ç½®å®Œæˆåæˆ‘ä»¬å°±å¯ä»¥æ„‰å¿«çš„åœ¨çœŸæœºä¸Šä½¿ç”¨uni.getLocationäº†ï¼›')]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('  "permission": {\n\t\t\t"scope.userLocation": {\n\t\t\t\t"desc": "ä½ çš„ä½ç½®ä¿¡æ¯å°†ç”¨äºå°ç¨‹åºä½ç½®æ¥å£çš„æ•ˆæœå±•ç¤º" \n\t\t\t}\n\t\t},\n')])])]),e("p",[e("strong",[t._v("descï¼šç”¨äºæè¿°è·å–ä½ çš„åœ°ç†ä½ç½®çš„åŸç”±")]),t._v(" "),e("img",{attrs:{src:"https://upload-images.jianshu.io/upload_images/7635118-309ea44a151acc40.jpeg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240",alt:"WechatIMG204.jpeg"}})]),t._v(" "),e("h1",{attrs:{id:"ä¸¾ä¸ªé¡µé¢ä¸­ä½¿ç”¨çš„ğŸŒ°"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ä¸¾ä¸ªé¡µé¢ä¸­ä½¿ç”¨çš„ğŸŒ°"}},[t._v("#")]),t._v(" ä¸¾ä¸ªé¡µé¢ä¸­ä½¿ç”¨çš„ğŸŒ°ï¼š")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("uni.getLocation({\n   type: 'gcj02',  // é»˜è®¤å€¼ä¸ºwgs84ï¼›å¯é€‰å€¼ï¼ˆ 1.wgs84 è¿”å› gps åæ ‡ï¼Œ2.gcj02 è¿”å›å¯ç”¨äº wx.openLocation çš„åæ ‡ï¼‰\n    wgs84: false, // ä¼ å…¥ true ä¼šè¿”å›é«˜åº¦ä¿¡æ¯ï¼Œç”±äºè·å–é«˜åº¦éœ€è¦è¾ƒé«˜ç²¾ç¡®åº¦ï¼Œä¼šå‡æ…¢æ¥å£è¿”å›é€Ÿåº¦\n    sHighAccuracy: false, // å¼€å¯é«˜ç²¾åº¦å®šä½\n    highAccuracyExpireTime: 3000, //é«˜ç²¾åº¦å®šä½è¶…æ—¶æ—¶é—´(ms)ï¼ŒæŒ‡å®šæ—¶é—´å†…è¿”å›æœ€é«˜ç²¾åº¦ï¼Œè¯¥å€¼3000msä»¥ä¸Šé«˜ç²¾åº¦å®šä½æ‰æœ‰æ•ˆæœ\n    success: function (res) {\n      console.log('æˆåŠŸè·å–ä½ç½®ä¿¡æ¯',res)\n    },\n    fail: function (error) {\n        console.log('è·å–å½“å‰ä½ç½®å¤±è´¥',error)\n    },\n    complete: function(com){\n      console.log('æ¥å£è°ƒç”¨ç»“æŸçš„å›è°ƒå‡½æ•°ï¼ˆè°ƒç”¨æˆåŠŸã€å¤±è´¥éƒ½ä¼šæ‰§è¡Œï¼‰',com)     \n   }\n });\n")])])]),e("p",[t._v("ä¸ªäººå»ºè®®æŠŠè·å–å½“å‰å®šä½çš„APIä½¿ç”¨new Promiseå°è£…èµ·æ¥ä½¿ç”¨ï¼Œé¿å…ä»£ç å¤šæ¬¡é‡å¤ï¼Œ(æˆ–è€…å„ä½å¤§ç¥æœ‰æ›´å¥½çš„æ–¹æ³•ï¼Œéº»çƒ¦è¯„è®ºä¸€ä¸‹ï¼Œç»™å¤§å®¶å‚è€ƒä¸€ä¸‹ï¼Œè®©æˆ‘ä»¬åœ¨æ•²ç çš„è·¯ä¸Šæ½‡æ½‡æ´’æ´’ğŸ‘€)ä¾‹å¦‚ï¼š")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("function getLocationFun() {\n  return new Promise((resolve, reject) => {\n    uni.getLocation({\n      type: 'gcj02',\n      success: function (res) {\n        resolve(res)\n      },\n      fail: function (error) {\n        console.log('æ‰§è¡Œ',error)\n        reject(error)\n      }\n    });\n  })\n\n}\n")])])]),e("h1",{attrs:{id:"é™„ä¸Šè·å–å½“å‰ä½ç½®æˆåŠŸåè¿”å›çš„å‚æ•°"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#é™„ä¸Šè·å–å½“å‰ä½ç½®æˆåŠŸåè¿”å›çš„å‚æ•°"}},[t._v("#")]),t._v(" é™„ä¸Šè·å–å½“å‰ä½ç½®æˆåŠŸåè¿”å›çš„å‚æ•°")]),t._v(" "),e("p",[e("img",{attrs:{src:"https://upload-images.jianshu.io/upload_images/7635118-c109342a6751e1ce.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240",alt:"image.png"}})]),t._v(" "),e("p",[t._v("ä»¥å…å› å°å¼Ÿæµ…è–„çš„ç†è§£è¯¯å¯¼å¤§å®¶ï¼Œæœ€åé™„ä¸Šuni-appå…³äºè·å–å½“å‰ä½ç½®çš„æ–‡æ¡£ï¼Œå…·ä½“çš„å¤§å®¶ä¹Ÿå¯ä»¥å»å®˜ç½‘æ–‡æ¡£äº†è§£ï¼šhttps://uniapp.dcloud.io/api/location/location?id=getlocation")])])}),[],!1,null,null,null);e.default=s.exports}}]);